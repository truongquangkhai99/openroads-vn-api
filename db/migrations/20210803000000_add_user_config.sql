--
-- Name: cba_user_config; Type: TABLE; Schema: public; Owner: -; Tablespace:
--

DROP TABLE cba_user_configs;

CREATE TABLE cba_user_configs (
	id SERIAL PRIMARY KEY,
    name text UNIQUE,
    discount_rate float NOT NULL,
    economic_factor float NOT NULL,
    growth_rates jsonb NOT NULL,
    traffic_levels jsonb NOT NULL,
    road_works jsonb NOT NULL,
    recurrent_maintainence jsonb NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now(),
    updated_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now()
);

CREATE INDEX cba_user_configs_idx ON cba_user_configs USING btree (id);

INSERT INTO cba_user_configs
  VALUES (1, 'default', 0.12, 0.91, '[]','[]','[]','[]'),
         (2, 'Config2', 0.20, 1.2, '[]','[]','[]','[]'),   
         (3, 'Config3', 0.15, 2.2, '[]','[]','[]','[]');    

UPDATE cba_user_configs SET traffic_levels = '{"by_level": {"0": {"aadt": 25, "struct_no": 1.5, "motorcycle": 0.75, "small_car": 0.02, "medium_car": 0.05, "delivery": 0.01, "four_wheel_drive": 0.01, "light_truck": 0.12, "medium_truck": 0.03, "heavy_truck": 0.0, "articulated_truck": 0.0, "small_bus": 0.01, "medium_bus": 0.0, "large_bus": 0.0, "proportions": [0.75, 0.02, 0.05, 0.01, 0.01, 0.12, 0.03, 0.0, 0.0, 0.01, 0.0, 0.0]}, "1": {"aadt": 75, "struct_no": 1.5, "motorcycle": 0.75, "small_car": 0.02, "medium_car": 0.05, "delivery": 0.01, "four_wheel_drive": 0.01, "light_truck": 0.12, "medium_truck": 0.03, "heavy_truck": 0.0, "articulated_truck": 0.0, "small_bus": 0.01, "medium_bus": 0.0, "large_bus": 0.0, "proportions": [0.75, 0.02, 0.05, 0.01, 0.01, 0.12, 0.03, 0.0, 0.0, 0.01, 0.0, 0.0]}, "2": {"aadt": 175, "struct_no": 1.5, "motorcycle": 0.65, "small_car": 0.03, "medium_car": 0.07, "delivery": 0.02, "four_wheel_drive": 0.02, "light_truck": 0.13, "medium_truck": 0.04, "heavy_truck": 0.01, "articulated_truck": 0.0, "small_bus": 0.02, "medium_bus": 0.01, "large_bus": 0.0, "proportions": [0.65, 0.03, 0.07, 0.02, 0.02, 0.13, 0.04, 0.01, 0.0, 0.02, 0.01, 0.0]}, "3": {"aadt": 375, "struct_no": 2.0, "motorcycle": 0.65, "small_car": 0.03, "medium_car": 0.07, "delivery": 0.02, "four_wheel_drive": 0.02, "light_truck": 0.13, "medium_truck": 0.04, "heavy_truck": 0.01, "articulated_truck": 0.0, "small_bus": 0.02, "medium_bus": 0.01, "large_bus": 0.0, "proportions": [0.65, 0.03, 0.07, 0.02, 0.02, 0.13, 0.04, 0.01, 0.0, 0.02, 0.01, 0.0]}, "4": {"aadt": 750, "struct_no": 3.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0, "proportions": [0.5, 0.05, 0.09, 0.04, 0.04, 0.15, 0.06, 0.02, 0.0, 0.04, 0.01, 0.0]}, "5": {"aadt": 2000, "struct_no": 4.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0, "proportions": [0.5, 0.05, 0.09, 0.04, 0.04, 0.15, 0.06, 0.02, 0.0, 0.04, 0.01, 0.0]}, "6": {"aadt": 4000, "struct_no": 5.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0, "proportions": [0.5, 0.05, 0.09, 0.04, 0.04, 0.15, 0.06, 0.02, 0.0, 0.04, 0.01, 0.0]}, "7": {"aadt": 6000, "struct_no": 6.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0, "proportions": [0.5, 0.05, 0.09, 0.04, 0.04, 0.15, 0.06, 0.02, 0.0, 0.04, 0.01, 0.0]}, "8": {"aadt": 8000, "struct_no": 7.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0, "proportions": [0.5, 0.05, 0.09, 0.04, 0.04, 0.15, 0.06, 0.02, 0.0, 0.04, 0.01, 0.0]}, "9": {"aadt": 10500, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01, "proportions": [0.25, 0.08, 0.12, 0.07, 0.07, 0.18, 0.08, 0.05, 0.01, 0.06, 0.02, 0.01]}, "10": {"aadt": 13500, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01, "proportions": [0.25, 0.08, 0.12, 0.07, 0.07, 0.18, 0.08, 0.05, 0.01, 0.06, 0.02, 0.01]}, "11": {"aadt": 17500, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01, "proportions": [0.25, 0.08, 0.12, 0.07, 0.07, 0.18, 0.08, 0.05, 0.01, 0.06, 0.02, 0.01]}, "12": {"aadt": 25000, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01, "proportions": [0.25, 0.08, 0.12, 0.07, 0.07, 0.18, 0.08, 0.05, 0.01, 0.06, 0.02, 0.01]}, "13": {"aadt": 35000, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01, "proportions": [0.25, 0.08, 0.12, 0.07, 0.07, 0.18, 0.08, 0.05, 0.01, 0.06, 0.02, 0.01]}, "14": {"aadt": 500000, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01, "proportions": [0.25, 0.08, 0.12, 0.07, 0.07, 0.18, 0.08, 0.05, 0.01, 0.06, 0.02, 0.01]}}}';

UPDATE cba_user_configs SET traffic_levels = '{"by_level": {
  "0": {"aadt": 25, "struct_no": 1.5, "motorcycle": 0.75, "small_car": 0.02, "medium_car": 0.05, "delivery": 0.01, "four_wheel_drive": 0.01, "light_truck": 0.12, "medium_truck": 0.03, "heavy_truck": 0.0, "articulated_truck": 0.0, "small_bus": 0.01, "medium_bus": 0.0, "large_bus": 0.0         }, 
  "1": {"aadt": 75, "struct_no": 1.5, "motorcycle": 0.75, "small_car": 0.02, "medium_car": 0.05, "delivery": 0.01, "four_wheel_drive": 0.01, "light_truck": 0.12, "medium_truck": 0.03, "heavy_truck": 0.0, "articulated_truck": 0.0, "small_bus": 0.01, "medium_bus": 0.0, "large_bus": 0.0         }, 
  "2": {"aadt": 175, "struct_no": 1.5, "motorcycle": 0.65, "small_car": 0.03, "medium_car": 0.07, "delivery": 0.02, "four_wheel_drive": 0.02, "light_truck": 0.13, "medium_truck": 0.04, "heavy_truck": 0.01, "articulated_truck": 0.0, "small_bus": 0.02, "medium_bus": 0.01, "large_bus": 0.0      }, 
  "3": {"aadt": 375, "struct_no": 2.0, "motorcycle": 0.65, "small_car": 0.03, "medium_car": 0.07, "delivery": 0.02, "four_wheel_drive": 0.02, "light_truck": 0.13, "medium_truck": 0.04, "heavy_truck": 0.01, "articulated_truck": 0.0, "small_bus": 0.02, "medium_bus": 0.01, "large_bus": 0.0      }, 
  "4": {"aadt": 750, "struct_no": 3.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0       }, 
  "5": {"aadt": 2000, "struct_no": 4.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0      }, 
  "6": {"aadt": 4000, "struct_no": 5.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0      }, 
  "7": {"aadt": 6000, "struct_no": 6.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0      }, 
  "8": {"aadt": 8000, "struct_no": 7.0, "motorcycle": 0.5, "small_car": 0.05, "medium_car": 0.09, "delivery": 0.04, "four_wheel_drive": 0.04, "light_truck": 0.15, "medium_truck": 0.06, "heavy_truck": 0.02, "articulated_truck": 0.0, "small_bus": 0.04, "medium_bus": 0.01, "large_bus": 0.0      }, 
  "9": {"aadt": 10500, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01  }, 
  "10": {"aadt": 13500, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01 }, 
  "11": {"aadt": 17500, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01 }, 
  "12": {"aadt": 25000, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01 }, 
  "13": {"aadt": 35000, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01 }, 
  "14": {"aadt": 500000, "struct_no": 8.0, "motorcycle": 0.25, "small_car": 0.08, "medium_car": 0.12, "delivery": 0.07, "four_wheel_drive": 0.07, "light_truck": 0.18, "medium_truck": 0.08, "heavy_truck": 0.05, "articulated_truck": 0.01, "small_bus": 0.06, "medium_bus": 0.02, "large_bus": 0.01}}}
  ';

UPDATE cba_user_configs SET growth_rates = '{"very_low": 0.034, "low": 0.046, "medium": 0.054, "high": 0.057, "very_high": 0.086}';

       
